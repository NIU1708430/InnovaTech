# Caso de Uso: Calcular Coste de Envío

### Versión
1.0

### Fecha
30/04/2025

### Autores
Elías Pascual Paz

---

### Descripción
Este caso de uso describe cómo el sistema calcula automáticamente el costo del envío en función de la distancia entre el cocinero y el cliente. El envío será gratuito si el cliente opta por recoger el pedido en persona.

---

### Actores
- Cliente  
- Cocinero  
- Sistema de Mapas

---

### Precondiciones
- El cliente ha iniciado sesión.  
- El cliente ha seleccionado los platos y ha iniciado el proceso de pedido.  
- Se ha seleccionado un método de envío.

---

### Flujo Principal
1. El cliente selecciona los platos y procede a realizar el pedido.
2. El sistema solicita al cliente que elija un método de envío (a domicilio o recogida).
3. Si se elige envío a domicilio:
   - El sistema consulta la ubicación del cocinero y del cliente.
   - Calcula la distancia entre ambos mediante el sistema de mapas.
   - Aplica una fórmula de coste según la distancia.
4. Si se elige recogida en local:
   - El coste de envío es automáticamente establecido como 0.
5. El sistema muestra el coste del envío junto con el total del pedido.

---

### Subflujos
- **Selección del método de envío** 

---

### Flujos Alternativos
- **No se puede obtener la ubicación**:  
  El sistema informa que no puede calcular el coste de envío y solicita al cliente que verifique su ubicación.

---

### Postcondiciones
- El cliente visualiza el coste del envío correctamente calculado.
- La información se incorpora al resumen del pedido.

---

### Requisitos No Funcionales
- Precisión en el cálculo de distancias mediante integración con Google Maps.  
- Tiempo de respuesta rápido al calcular el coste.  


---

### Prioridad
Alta

---

### Comentarios
Este cálculo debe integrarse de forma transparente al flujo de pedido para evitar fricciones en la experiencia del usuario.
